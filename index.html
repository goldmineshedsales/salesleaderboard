<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Goldmine Sales Leaderboard</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      background: #f5f8fa;
      margin: 0;
      padding: 2rem;
      color: #33475b;
    }

    h1 {
      text-align: center;
      font-size: 1.75rem;
      margin-bottom: 2rem;
      color: #213343;
    }

    .leaderboard {
      max-width: 1100px;
      margin: auto;
      background: #ffffff;
      border: 1px solid #dfe3e8;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    .rep-row {
      display: flex;
      flex-direction: column;
      border-bottom: 1px solid #f0f1f3;
      padding: 1.25rem;
      transition: background 0.3s ease;
    }

    .rep-row:hover {
      background-color: #f9fafb;
    }

    .rep-name {
      font-weight: 600;
      margin-bottom: 0.75rem;
      font-size: 1rem;
    }

    .metrics {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 1rem;
    }

    .metric {
      position: relative;
      background: #ebeff3;
      border-radius: 6px;
      height: 36px;
      overflow: visible;
    }

    .bar {
      background: #ff7a59;
      height: 100%;
      width: 0;
      max-width: 100%;
      position: absolute;
      top: 0;
      left: 0;
      transition: width 1.5s ease-in-out;
      border-radius: 6px;
      z-index: 1;
    }

    .bar.over::after {
      content: "";
      position: absolute;
      top: 0;
      right: 0;
      width: 8px;
      height: 100%;
      background: rgba(255, 122, 89, 0.9);
      box-shadow: 0 0 10px rgba(255, 122, 89, 0.8);
      animation: pulse-glow 1.5s infinite;
    }

    @keyframes pulse-glow {
      0%, 100% {
        opacity: 0.6;
        transform: scaleY(1);
      }
      50% {
        opacity: 1;
        transform: scaleY(1.1);
      }
    }

    .runner {
      position: absolute;
      bottom: 100%;
      transform: translate(-50%, -12px);
      width: 28px;
      height: 28px;
      z-index: 2;
    }

    .runner img {
      width: 100%;
      height: auto;
    }

    .badge-icon {
      position: absolute;
      top: -8px;
      left: -8px;
      width: 20px;
      height: 20px;
      background-color: #2ecc71;
      border-radius: 50%;
      font-size: 0.7rem;
      color: #fff;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 3;
      box-shadow: 0 0 5px rgba(46, 204, 113, 0.6);
    }

    .sale-star {
      position: absolute;
      top: -12px;
      right: -10px;
      font-size: 16px;
      color: gold;
      z-index: 4;
    }

    .label {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 0.85rem;
      font-weight: 500;
      color: #33475b;
      z-index: 1;
    }

    .goal-badge {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      font-size: 0.9rem;
      font-weight: 600;
      color: #fff;
      border-radius: 6px;
    }

    .goal-complete {
      background-color: #2ecc71;
    }

    .goal-partial {
      background-color: #f39c12;
    }

    .goal-none {
      background-color: #e74c3c;
    }

    .header-row {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      font-size: 0.9rem;
      font-weight: 600;
      color: #7c98b6;
      padding: 1rem 1.25rem 0.5rem;
      max-width: 1100px;
      margin: auto;
    }

    @media (max-width: 768px) {
      .metrics,
      .header-row {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <h1>Goldmine Sales Leaderboard</h1>
  <div class="header-row">
    <div>Total Calls</div>
    <div>Avg Call Time</div>
    <div>Total Call Time</div>
    <div>Month To Date Sales</div>
    <div>Daily Goal</div>
  </div>
  <div class="leaderboard" id="leaderboard"></div>

  <script>
    const reps = [
      {
        name: 'Alex Johnson',
        calls: 140,
        avgTime: '2:34',
        totalTime: '3:20:00',
        sales: '$14,300',
        percent: { calls: 116, avgTime: 65, totalTime: 111, sales: 70 },
        goals: { badge: '✓', type: 'Calls', todaySale: true }
      },
      {
        name: 'Taylor Smith',
        calls: 65,
        avgTime: '3:01',
        totalTime: '2:50:22',
        sales: '$11,200',
        percent: { calls: 65, avgTime: 70, totalTime: 75, sales: 60 },
        goals: { badge: '⚠', type: 'None', todaySale: false }
      },
      {
        name: 'Morgan Lee',
        calls: 92,
        avgTime: '2:15',
        totalTime: '4:12:50',
        sales: '$17,850',
        percent: { calls: 92, avgTime: 55, totalTime: 95, sales: 85 },
        goals: { badge: '🏆', type: 'All 3', todaySale: true }
      }
    ];

    const leaderboard = document.getElementById('leaderboard');

    reps.forEach(rep => {
      const repRow = document.createElement('div');
      repRow.className = 'rep-row';

      const over = value => value > 100 ? ' over' : '';
      const goalClass = rep.goals.type === 'All 3' ? 'goal-complete' : rep.goals.type === 'None' ? 'goal-none' : 'goal-partial';

      repRow.innerHTML = `
        <div class="rep-name">${rep.name}</div>
        <div class="metrics">
          ${['calls', 'avgTime', 'totalTime', 'sales'].map(key => {
            const value = rep.percent[key];
            const label = key === 'calls' ? rep.calls : key === 'avgTime' ? rep.avgTime : key === 'totalTime' ? rep.totalTime : rep.sales;
            const showBadge = rep.goals.type === 'All 3' || rep.goals.type.toLowerCase().includes(key.replace(/Time/, 'time'));
            const isSales = key === 'sales';
            const saleStar = isSales && rep.goals.todaySale ? '<div class="sale-star" title="Sale made today!">✨</div>' : '';
            return `
              <div class="metric">
                <div class="bar${over(value)}" style="width: ${Math.min(value, 100)}%"></div>
                <div class="runner" style="left: ${Math.min(value, 100)}%">
                  <img src="obstacles.gif" alt="Runner">
                  ${showBadge ? '<div class="badge-icon">✓</div>' : ''}
                  ${saleStar}
                </div>
                <div class="label">${label}</div>
              </div>
            `;
          }).join('')}
          <div class="goal-badge ${goalClass}">${rep.goals.badge}</div>
        </div>
      `;

      leaderboard.appendChild(repRow);
    });
  </script>
</body>
</html>
